<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fal Bakıcı</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7214107660665483"
     crossorigin="anonymous"></script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script>
    <!-- aclib script removed as it was causing errors -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Satisfy&display=swap');

        body {
            font-family: 'Montserrat', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a237e, #311b92);
            color: white;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        /* Fal seçenekleri için stil */
        .fortune-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .option-button {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100px;
            height: 100px;
        }

        .option-button.active {
            background: rgba(123, 104, 238, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
            transform: scale(1.05);
        }

        .option-button:hover {
            background: rgba(123, 104, 238, 0.2);
            transform: translateY(-5px);
        }

        .option-icon {
            width: 40px;
            height: 40px;
            margin-bottom: 5px;
        }

        /* Tarot kartları için stil */
        .fortune-option-content {
            display: none;
            width: 100%;
        }

        .fortune-option-content.active {
            display: block;
        }

        .tarot-container {
            text-align: center;
        }

        .tarot-instructions {
            margin-bottom: 20px;
            font-size: 18px;
        }

        .tarot-cards {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .tarot-card {
            width: 120px;
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
        }

        .tarot-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .tarot-card.flipped .tarot-card-inner {
            transform: rotateY(180deg);
        }

        .tarot-card-front, .tarot-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .tarot-card-front {
            background: linear-gradient(145deg, #7e57c2, #5e35b1);
            border: 2px solid #9575cd;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .tarot-card-front:after {
            content: "";
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 25l10 17.3h-20L50 25zm0 50l-10-17.3h20L50 75z' fill='rgba(255, 255, 255, 0.2)'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
            background-size: 80px 80px;
        }

        .tarot-card-back {
            background: linear-gradient(145deg, #4a148c, #7b1fa2);
            border: 2px solid #ce93d8;
            transform: rotateY(180deg);
            overflow: hidden;
            padding: 5px;
            text-align: center;
        }

        .tarot-card-image {
            width: 60px;
            height: 60px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin: 5px 0;
        }

        .tarot-card h3 {
            margin: 0;
            font-size: 14px;
            color: #e0f7fa;
        }

        .tarot-card h4 {
            margin: 5px 0;
            font-size: 12px;
        }

        .tarot-card p {
            margin: 5px 0 0;
            font-size: 10px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }

        #revealTarotButton {
            background: linear-gradient(145deg, #7e57c2, #5e35b1);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            margin: 10px 0;
        }

        #revealTarotButton:hover {
            background: linear-gradient(145deg, #9575cd, #7e57c2);
            transform: translateY(-2px);
        }

        #tarotFortune {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            min-height: 80px;
            text-align: left;
        }

        .site-logo {
            position: fixed;
            top: 15px;
            left: 15px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(149, 117, 205, 0.8);
            border-radius: 50%;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .site-logo:hover {
            transform: scale(1.1);
            background-color: rgba(149, 117, 205, 1);
        }

        .logo-text {
            color: white;
            font-weight: bold;
            font-size: 20px;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .container {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 30px;
            width: 80%;
            max-width: 500px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3),
                        0 0 40px rgba(156, 39, 176, 0.2),
                        inset 0 0 15px rgba(156, 39, 176, 0.3);
            text-align: center;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: scale(0.95);
            opacity: 0;
            animation: containerAppear 1s forwards 0.2s;
            overflow: hidden;
            position: relative;
        }

        /* Container için parlama efekti */
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            opacity: 0;
            animation: containerGlow 8s infinite;
            pointer-events: none;
        }

        @keyframes containerAppear {
            0% {
                transform: scale(0.95);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes containerGlow {
            0%, 100% {
                transform: translate(-50%, -50%) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) rotate(180deg);
                opacity: 0.3;
            }
        }

        /* Sihirli başlık animasyonu */
        h1 {
            margin-top: 0;
            color: #e0f7fa;
            font-size: 2.8rem;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            font-family: 'Satisfy', cursive;
            position: relative;
            opacity: 0;
            transform: translateY(-20px);
            animation: titleAppear 1.5s forwards 0.5s, titleGlow 3s infinite 2s;
        }

        h1::before, h1::after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            bottom: -10px;
            background: linear-gradient(to right, transparent, #e1bee7, transparent);
            transition: width 0.8s ease;
            opacity: 0;
            animation: lineExpand 1.2s forwards 1.8s;
        }

        h1::before {
            left: 50%;
        }

        h1::after {
            right: 50%;
        }

        @keyframes titleAppear {
            0% {
                opacity: 0;
                transform: translateY(-20px) scale(0.8);
                text-shadow: 0 0 10px #9c27b0, 0 0 20px #9c27b0, 0 0 30px #9c27b0;
            }
            70% {
                opacity: 0.8;
                transform: translateY(5px) scale(1.1);
                text-shadow: 0 0 20px #9c27b0, 0 0 40px #9c27b0, 0 0 60px #e040fb;
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5), 0 0 10px rgba(156, 39, 176, 0.5);
            }
        }

        @keyframes titleGlow {
            0%, 100% {
                text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5), 0 0 10px rgba(156, 39, 176, 0.5);
            }
            50% {
                text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5), 0 0 15px #9c27b0, 0 0 25px #e040fb;
            }
        }

        @keyframes lineExpand {
            0% {
                width: 0;
                opacity: 0;
            }
            100% {
                width: 40%;
                opacity: 1;
            }
        }

        .form-group {
            margin-bottom: 20px;
        }

        input, button {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            border-radius: 12px;
            border: none;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input {
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2), inset 0 1px 2px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.2);
            letter-spacing: 0.5px;
        }

        input:focus {
            outline: none;
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.4), inset 0 1px 2px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
            border: 1px solid rgba(156, 39, 176, 0.5);
        }

        button {
            background: linear-gradient(135deg, #9c27b0, #673ab7);
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(103, 58, 183, 0.4);
            position: relative;
            overflow: hidden;
            z-index: 1;
            letter-spacing: 1px;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.7s ease;
            z-index: -1;
        }

        button:hover {
            background: linear-gradient(135deg, #aa2bc2, #7e57c2);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(103, 58, 183, 0.6);
        }

        button:hover::before {
            left: 100%;
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(103, 58, 183, 0.4);
        }

        #fingerprintButton {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto 0;
            background: transparent;
            border: none;
            box-shadow: none;
            transition: transform 0.3s ease;
            width: 100px;
            height: 100px;
            padding: 0;
            position: relative;
        }

        #fingerprintButton:hover {
            transform: scale(1.05);
        }

        #fingerprintButton:active {
            transform: scale(0.98);
        }

        .fingerprint-icon {
            width: 100px;
            height: 100px;
            filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        }

        #shareButton {
            background: linear-gradient(145deg, #4caf50, #388e3c);
            margin-top: 20px;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        #shareButton:hover {
            background: linear-gradient(145deg, #5cb860, #43a047);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.4);
        }

        #shareButton:active {
            transform: translateY(0);
        }

        #shareButton:before {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
        }

        .loader {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: #9370DB;
            border-bottom-color: #9370DB;
            position: absolute;
            display: none;
            animation: spin 1.5s linear infinite;
            box-shadow: 0 0 20px rgba(147, 112, 219, 0.5);
        }

        .loader:before {
            content: "";
            position: absolute;
            top: 5px;
            left: 5px;
            right: 5px;
            bottom: 5px;
            border-radius: 50%;
            border: 3px solid transparent;
            border-left-color: #BA55D3;
            border-right-color: #BA55D3;
            animation: spin 2s linear infinite;
        }

        .loader:after {
            content: "";
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 15px;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: #ffffff;
            border-bottom-color: #ffffff;
            animation: spin 1s linear infinite;
        }

        .scan-line {
            position: absolute;
            width: 100px;
            height: 2px;
            background: linear-gradient(to right, transparent, #7B68EE, transparent);
            z-index: 1;
            top: 50%;
            transform: translateY(-50%);
            display: none;
            animation: scan 2s ease-in-out infinite;
            box-shadow: 0 0 10px 5px rgba(123, 104, 238, 0.5);
        }

        @keyframes scan {
            0% { top: 10%; opacity: 0.2; }
            50% { top: 90%; opacity: 1; }
            100% { top: 10%; opacity: 0.2; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none;
        }

        .visible {
            display: block;
        }

        .fade-in {
            animation: fadeIn 1s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        #fortuneResult {
            font-size: 1.1rem;
            margin: 20px 0;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            min-height: 100px;
            max-height: 350px;
            overflow-y: auto;
            position: relative;
            line-height: 1.6;
            text-align: left; /* Fal metnini sola hizala */
            letter-spacing: 0.5px;
            word-wrap: break-word;
            overflow-x: hidden;
        }

        /* Fal mesajı için geliştirilmiş harf animasyonu */
        .magical-text {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px) scale(0.8);
            filter: blur(8px);
            color: white;
            text-shadow: 0 0 8px rgba(206, 147, 216, 0.7);
            animation: textReveal 0.5s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
            position: relative;
        }

        .magical-text::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, rgba(224, 176, 255, 0.7), transparent);
            animation: textUnderline 0.5s forwards;
            animation-delay: inherit;
            animation-delay: calc(var(--delay) + 0.3s);
            opacity: 0;
        }

        @keyframes textUnderline {
            0% {
                width: 0;
                opacity: 0;
            }
            100% {
                width: 100%;
                opacity: 0.7;
            }
        }

        /* Fal mesajı arka plan parlaması */
        .fortune-glow {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(156, 39, 176, 0.3) 0%, transparent 70%);
            opacity: 0;
            z-index: -1;
            animation: glowPulse 4s ease-in-out infinite;
        }

        /* Fal mesajı için yıldız parıltıları */
        .fortune-sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background-color: white;
            z-index: 1;
            opacity: 0;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
        }

        @keyframes textReveal {
            0% {
                opacity: 0;
                transform: translateY(20px) scale(0.8);
                filter: blur(8px);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
                color: white;
                text-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
            }
        }

        @keyframes glowPulse {
            0% { opacity: 0.1; }
            50% { opacity: 0.5; }
            100% { opacity: 0.1; }
        }

        @keyframes sparkle {
            0% { 
                opacity: 0;
                transform: scale(0.1);
            }
            50% { 
                opacity: 1;
                transform: scale(1.2);
            }
            100% { 
                opacity: 0;
                transform: scale(0.1);
            }
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
<script id="aclib" type="text/javascript" src="//acscdn.com/script/aclib.js"></script>



        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        .shooting-star {
            position: absolute;
            height: 2px;
            background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1));
            transform-origin: left;
            animation: shooting 5s linear infinite;
            opacity: 0;
        }

        @keyframes twinkle {
            0% { opacity: 0.2; }
            50% { opacity: 0.8; }
            100% { opacity: 0.2; }
        }

        @keyframes shooting {
            0% {
                transform: translateX(0) rotate(0deg);
                opacity: 0;
            }
            5% {
                opacity: 1;
            }
            20% {
                transform: translateX(calc(100vw - 200px)) rotate(0deg);
                opacity: 0;
            }
            100% {
                transform: translateX(calc(100vw - 200px)) rotate(0deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <amp-auto-ads type="adsense"
        data-ad-client="ca-pub-7214107660665483">
    </amp-auto-ads>

    <!-- Sihirli Elementler -->
    <div class="magic-elements">
        <div class="magic-circle"></div>
        <div class="magic-circle"></div>
        <div class="magic-circle"></div>
        <div class="floating-crystal"></div>
        <div class="floating-crystal"></div>
        <div class="magic-rune"></div>
        <div class="magic-rune"></div>
    </div>

    <style>
        .magic-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .magic-circle {
            position: absolute;
            border: 1px solid rgba(224, 176, 255, 0.3);
            border-radius: 50%;
            animation: floatAndRotate 20s infinite linear;
        }

        .magic-circle:nth-child(1) {
            width: 300px;
            height: 300px;
            top: -150px;
            left: -150px;
            border-width: 2px;
            animation-duration: 40s;
            opacity: 0.4;
        }

        .magic-circle:nth-child(2) {
            width: 220px;
            height: 220px;
            bottom: 10%;
            right: -100px;
            border-width: 3px;
            animation-duration: 35s;
            animation-delay: 2s;
            opacity: 0.3;
        }

        .magic-circle:nth-child(3) {
            width: 180px;
            height: 180px;
            top: 60%;
            left: 20%;
            border-width: 1px;
            animation-duration: 30s;
            animation-delay: 5s;
            opacity: 0.2;
        }

        .floating-crystal {
            position: absolute;
            width: 40px;
            height: 60px;
            background: linear-gradient(135deg, rgba(224, 176, 255, 0.2), rgba(156, 39, 176, 0.1));
            clip-path: polygon(50% 0%, 100% 40%, 50% 100%, 0% 40%);
            animation: floatAndGlow 15s infinite ease-in-out;
            box-shadow: 0 0 20px rgba(224, 176, 255, 0.3);
        }

        .floating-crystal:nth-child(4) {
            top: 15%;
            right: 10%;
            animation-delay: 2s;
        }

        .floating-crystal:nth-child(5) {
            bottom: 10%;
            left: 5%;
            width: 30px;
            height: 45px;
            animation-delay: 5s;
            animation-duration: 18s;
        }

        .magic-rune {
            position: absolute;
            width: 50px;
            height: 50px;
            border: 1px solid rgba(224, 176, 255, 0.2);
            opacity: 0.6;
            animation: runeGlow 8s infinite alternate ease-in-out;
        }

        .magic-rune:nth-child(6) {
            top: 40%;
            left: 5%;
            transform: rotate(45deg);
            animation-delay: 1s;
        }

        .magic-rune:nth-child(7) {
            bottom: 30%;
            right: 8%;
            transform: rotate(30deg);
            animation-delay: 4s;
        }

        .magic-rune::before, .magic-rune::after {
            content: '';
            position: absolute;
            background-color: rgba(224, 176, 255, 0.2);
        }

        .magic-rune::before {
            width: 100%;
            height: 2px;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
        }

        .magic-rune::after {
            width: 2px;
            height: 100%;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
        }

        @keyframes floatAndRotate {
            0% {
                transform: rotate(0deg) translate(20px) rotate(0deg);
            }
            100% {
                transform: rotate(360deg) translate(20px) rotate(-360deg);
            }
        }

        @keyframes floatAndGlow {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.4;
                box-shadow: 0 0 20px rgba(224, 176, 255, 0.3);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
                opacity: 0.7;
                box-shadow: 0 0 30px rgba(224, 176, 255, 0.5);
            }
        }

        @keyframes runeGlow {
            0% {
                opacity: 0.3;
                box-shadow: 0 0 5px rgba(224, 176, 255, 0.2);
            }
            100% {
                opacity: 0.6;
                box-shadow: 0 0 15px rgba(224, 176, 255, 0.4);
            }
        }
    </style>
    <audio id="backgroundMusic" loop >
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-simple-meditation-music-751.mp3" type="audio/mpeg">
        Tarayıcınız ses elementini desteklemiyor.
    </audio>
    <div class="stars" id="stars"></div>

    <!-- OmFortune Logo -->
    <div class="site-logo" id="omFortuneLogoBtn">
        <span class="logo-text">OM</span>
    </div>

    <div class="container">
        <h1>OmFortune</h1>

        <!-- Name Input Section -->
        <div id="nameSection" class="visible">
            <div class="form-group">
                <label for="firstName">Adınızı Girin</label>
                <input type="text" id="firstName" placeholder="Adınız" required>
            </div>
            <div class="form-group">
                <label for="lastName">Soyadınızı Girin</label>
                <input type="text" id="lastName" placeholder="Soyadınız" required>
            </div>
            <button id="submitName">Devam Et</button>
        </div>

        <!-- Birthdate Input Section -->
        <div id="birthdateSection" class="hidden">
            <div class="form-group">
                <label for="birthdate">Doğum Tarihinizi Girin</label>
                <input type="date" id="birthdate" required>
            </div>
            <button id="submitBirthdate">Kaderinizi Keşfedin</button>
        </div>

        <!-- Horoscope Display Section -->
        <div id="horoscopeSection" class="hidden">
            <h2>Göksel Kimliğiniz</h2>
            <p id="userName">Ad: </p>
            <p id="userBirthdate">Doğum Tarihi: </p>
            <p id="userZodiac">Burcunuz: </p>
            <p id="horoscopeText"></p>
            <div class="fortune-options">
                <button id="fingerprintButton" class="option-button active" data-option="fingerprint">
                    <svg class="option-icon fingerprint-icon" viewBox="0 0 24 24" fill="white">
                        <path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"/>
                    </svg>
                    <div class="loader" id="fingerprintLoader"></div>
                    <div class="scan-line" id="scanLine"></div>
                </button>

            </div>
            <div id="fingerprintDiv" class="fortune-option-content active"></div>

        </div>

        <!-- Fortune Result Section -->
        <div id="fortuneSection" class="hidden">
            <h2>Falınız Açıldı</h2>
            <div id="fortuneResult" class="fade-in"></div>
            <button id="shareButton">Bu Falı Paylaş</button>
            <button id="newFortuneButton">Yeni Fal</button>
        </div>
    </div>

    <!-- Instagram Button kaldırıldı -->

    <script>
        // Yıldızlı arka plan oluştur
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 150;
            const shootingStarCount = 10;

            // Normal yıldızlar
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');

                // Rastgele pozisyon
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;

                // Rastgele boyut
                const size = Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;

                // Rastgele parıldama gecikmesi
                star.style.animationDelay = `${Math.random() * 5}s`;

                starsContainer.appendChild(star);
            }

            // Kayan yıldızlar
            for (let i = 0; i < shootingStarCount; i++) {
                createShootingStar(starsContainer);
            }

            // Her 2-8 saniyede bir yeni bir kayan yıldız oluştur
            setInterval(() => {
                createShootingStar(starsContainer);
            }, Math.random() * 6000 + 2000);
        }

        // Kayan yıldız oluştur
        function createShootingStar(container) {
            const shootingStar = document.createElement('div');
            shootingStar.classList.add('shooting-star');

            // Rastgele pozisyon
            shootingStar.style.left = `${Math.random() * 30}%`; // Ekranın sol tarafından başla
            shootingStar.style.top = `${Math.random() * 60}%`;

            // Rastgele boyut ve hız
            const width = Math.random() * 80 + 50;
            const angle = Math.random() * 20 - 10; // -10 ile 10 arasında rastgele açı

            shootingStar.style.width = `${width}px`;
            shootingStar.style.height = `2px`;
            shootingStar.style.transform = `rotate(${angle}deg)`;

            // Rastgele animasyon süresi ve gecikmesi
            const duration = Math.random() * 2 + 1; // 1-3 saniye
            const delay = Math.random() * 10; // 0-10 saniye

            shootingStar.style.animationDuration = `${duration}s`;
            shootingStar.style.animationDelay = `${delay}s`;

            container.appendChild(shootingStar);

            // Animasyon bitince elementi kaldır
            setTimeout(() => {
                shootingStar.remove();
            }, (delay + duration) * 1000);
        }

        // Doğum tarihinden burç belirle
        function getZodiacSign(date) {
            const month = date.getMonth() + 1;
            const day = date.getDate();

            if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) return "Koç";
            if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) return "Boğa";
            if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) return "İkizler";
            if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) return "Yengeç";
            if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) return "Aslan";
            if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) return "Başak";
            if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) return "Terazi";
            if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) return "Akrep";
            if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) return "Yay";
            if ((month === 12 && day >= 22) || (month === 1 && day <= 19)) return "Oğlak";
            if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) return "Kova";
            return "Balık";
        }

        // Burca göre detaylı burç yorumu al
        function getHoroscopeText(sign) {
            const horoscopes = {
                "Koç": [
                    "Cesur ve maceracı ruhunuz sizi heyecan verici fırsatlara yönlendirecek. İçgüdülerinize güvenin ve zorluklarla özgüvenle yüzleşin.",
                    "Enerjiniz ve hızlı tepkileriniz, sizin en güçlü yönlerinizden. Ancak sabırlı olmayı öğrenmelisiniz. Bugünlerde Mars etkisi altındasınız ve bu size hem güç hem de cesaret veriyor.",
                    "Önünüzdeki günlerde yeni başlangıçlar için mükemmel bir zamanda olacaksınız. Liderlik yetenekleriniz ön plana çıkacak. İş hayatınızda önemli adımlar atmak için ideal bir dönemdesiniz.",
                    "Sosyal yaşamınız oldukça hareketli geçecek. Yeni tanışmalar ve ilişkiler sizi bekliyor. Açık fikirli olun ve yeni deneyimlere kendinizi kapatmayın.",
                    "Geçmişteki bazı durumlar ve kişiler hayatınıza tekrar girebilir. Bu kez daha bilinçli kararlar alacaksınız. Finansal konularda ani kararlar vermekten kaçının."
                ],
                "Boğa": [
                    "Sabrınız ve kararlılığınız ödüllendirilecek. Ayaklarınızı yere sağlam basın ve geleceğiniz için kalıcı temeller inşa etmeye odaklanın.",
                    "Venüs'ün etkisiyle sanatsal yetenekleriniz ve estetik anlayışınız gelişiyor. Bu dönemde kendinize ve çevrenize güzellik katacak işlere yönelebilirsiniz.",
                    "Finansal konularda dikkatli olmalısınız. Uzun vadeli yatırımlar için uygun bir dönemdesiniz. Toprakla ilgili işler size şans getirecek.",
                    "İlişkilerinizde güven ve sadakat sizin için çok önemli. Bu değerlerinize sahip çıkın. Sevdiklerinize zaman ayırmak size iyi gelecek.",
                    "İnatçı yapınız bazen ilerlemenizi engelleyebilir. Değişime açık olun ve yeni fikirleri değerlendirin. Konfor alanınızdan çıkmaktan korkmayın."
                ],
                "İkizler": [
                    "Çok yönlü zekânız en büyük varlığınızdır. Yeni fikirler keşfedin ve merakınızı uyandıran kişilerle bağlantı kurun.",
                    "Merkür'ün etkisiyle iletişim yeteneğiniz daha da güçleniyor. Bu dönemde yazma, konuşma ve öğrenme ile ilgili faaliyetler size şans getirecek.",
                    "Birden fazla işle aynı anda ilgilenebilirsiniz, ancak enerjinizi doğru yönlendirmelisiniz. Odaklanma sorunu yaşamak yerine bir şeyi tamamlayıp diğerine geçin.",
                    "Sosyal çevreniz oldukça geniş ve bu size birçok fırsat sunuyor. İnsanlarla kurduğunuz bağlantılar sizi yeni kapılara götürecek.",
                    "Merak duygusunu canlı tutun ama her zaman derinlemesine düşünün. Yüzeysel bilgilerle yetinmeyin, gerçeği aramaya devam edin."
                ],
                "Yengeç": [
                    "Sezgisel doğanız size iyi rehberlik eder. İç sesinizi dinleyin ve sizin için gerçekten önemli olan ilişkileri besleyin.",
                    "Ay'ın etkisiyle duygusal zekanız yükseliyor. Başkalarının duygularını anlama ve empati kurma yeteneğinizi kullanarak çevrenizdeki insanlara yardımcı olun.",
                    "Aileniz ve eviniz sizin için her şeyden önemli. Bu dönemde ev ile ilgili değişiklikler veya taşınma söz konusu olabilir. Bu değişimlere açık olun.",
                    "Geçmişe bağlılığınız bazen ilerlemenizi engelleyebilir. Nostaljik duygularınızı korurken geleceğe de odaklanın.",
                    "Finansal güvenlik sizin için önemli. Bu dönemde birikim yapmak ve geleceğiniz için planlar oluşturmak için uygun bir zamana gireceksiniz."
                ],
                "Aslan": [
                    "Doğal liderliğiniz ve yaratıcılığınız şimdi parlıyor. Kendinizi cesurca ifade edin ve çevrenizdeki insanlara ilham verin.",
                    "Güneş'in etkisiyle karizmanız daha da artıyor. Bu dönemde dikkatleri üzerinize çekecek ve takdir göreceksiniz. Sahne sizin!",
                    "Yaratıcı projeler için harika bir dönemdesiniz. Sanatsal ifade gücünüzü kullanın ve yeteneklerinizi sergilemekten çekinmeyin.",
                    "Cömertliğiniz ve sıcak kalbiniz çevrenizdeki insanları etkiliyor. Ancak bazen kendinizi de düşünmelisiniz, sınırlar koymayı öğrenin.",
                    "Onay ve takdir görmek sizin için önemli, ancak kendi değerinizi başkalarının onayına bağlamayın. İçsel güveninizi geliştirin."
                ],
                "Başak": [
                    "Detaylara olan dikkatiniz size iyi hizmet eder. Hayatınızda denge sağlarken pratik iyileştirmelere odaklanın.",
                    "Merkür'ün etkisiyle analitik yetenekleriniz güçleniyor. Bu dönemde problem çözme ve organizasyon gerektiren işlerde başarılı olacaksınız.",
                    "Mükemmeliyetçi yapınız bazen strese neden olabilir. Kendinize ve başkalarına karşı daha anlayışlı olun, her şeyin mükemmel olması gerekmediğini kabul edin.",
                    "Sağlık ve beslenme konularına olan ilginiz artıyor. Bu alanda yeni bilgiler edinebilir ve yaşam tarzınızda olumlu değişiklikler yapabilirsiniz.",
                    "Hizmet etmek ve faydalı olmak sizin için önemli. Yeteneklerinizi başkalarına yardım etmek için kullanın, ancak kendinizi de ihmal etmeyin."
                ],
                "Terazi": [
                    "Diplomatik becerileriniz ön plana çıkıyor. Kendi ihtiyaç ve arzularınıza sadık kalırken ilişkilerde uyum arayın.",
                    "Venüs'ün etkisiyle estetik anlayışınız ve zarafetiniz daha da belirginleşiyor. Sanat, tasarım ve güzellikle ilgili konularda ilham alacaksınız.",
                    "İlişkiler hayatınızın merkezinde yer alır. Bu dönemde mevcut ilişkilerinizi güçlendirebilir veya yeni önemli bağlantılar kurabilirsiniz.",
                    "Adalet duygunuz çok güçlü. Haksızlıklara karşı sesinizi yükseltmekten çekinmeyin, ancak çatışmalardan kaçınma eğiliminizi de dengeleyin.",
                    "Kararsızlık sizin en büyük zorluklarınızdan biri olabilir. Kararlarınızı verirken içgüdülerinize güvenin ve fazla düşünmekten kaçının."
                ],
                "Akrep": [
                    "Yoğunluğunuz ve kararlılığınız zorlukları fırsatlara dönüştürmenize yardımcı olur. Değişimi cesaretle kucaklayın.",
                    "Plüton'un etkisiyle dönüşüm ve yenilenme enerjiniz yükseliyor. Bu dönemde hayatınızda köklü değişiklikler yapabilirsiniz.",
                    "Sezgileriniz çok güçlü. İçsel sesinizi dinleyin ve başkalarının göremediği gerçekleri fark etme yeteneğinizi kullanın.",
                    "Tutkunuz ve yoğunluğunuz ilişkilerinizde belirleyici olur. Duygularınızı kontrol etmeyi ve daha açık iletişim kurmayı öğrenin.",
                    "Gizlilik sizin için önemli. Ancak bazen güvendiğiniz insanlara açılmak size iyi gelebilir. Savunma mekanizmalarınızı yumuşatmaya çalışın."
                ],
                "Yay": [
                    "İyimser bakış açınız macera kapılarını açar. Ufkunuzu genişletin ve yeni deneyimler yoluyla bilgelik arayın.",
                    "Jüpiter'in etkisiyle şansınız ve fırsatlarınız artıyor. Bu dönemde seyahat, eğitim ve yeni deneyimler için harika bir zamandasınız.",
                    "Özgürlük sizin için çok değerli. Kısıtlanmış hissettiğinizde yeni ufuklara yelken açma cesaretini gösterin.",
                    "Felsefi konulara olan ilginiz derinleşiyor. Hayatın büyük sorularına cevap aramak ve manevi yolculuğunuzda ilerlemek için ideal bir dönemdesiniz.",
                    "Dürüstlük ve açık sözlülük sizin en belirgin özellikleriniz. Ancak bazen biraz diplomatik olmak da gerekebilir, sözlerinizin etkisini düşünün."
                ],
                "Oğlak": [
                    "Disiplinli yaklaşımınız sürekli ilerlemeye yol açar. Sevince zaman ayırırken hedeflerinize odaklanmaya devam edin.",
                    "Satürn'ün etkisiyle disiplin ve sorumluluk duygunuz güçleniyor. Bu dönemde uzun vadeli hedefleriniz için sağlam adımlar atabilirsiniz.",
                    "Kariyer ve başarı sizin için çok önemli. Çalışkanlığınız ve azminiz sizi zirveye taşıyacak, ancak yolda dengeyi de unutmayın.",
                    "Geleneklere bağlılık ve pratik yaklaşımınız size güven verir. Ancak bazen yeni fikirlere ve değişime de açık olmalısınız.",
                    "Finansal güvenlik konusunda dikkatlisiniz. Bu dönemde yatırımlarınızı gözden geçirmek ve geleceğiniz için sağlam bir temel oluşturmak için uygun bir zamana giriyorsunuz."
                ],
                "Kova": [
                    "Yenilikçi düşünceniz taze çözümler getirir. Gelecek için vizyonunuzu paylaşan aynı fikirde kişilerle bağlantı kurun.",
                    "Uranüs'ün etkisiyle orijinalliğiniz ve yaratıcı düşünceniz ön plana çıkıyor. Bu dönemde yenilikçi fikirlerinizle fark yaratabilirsiniz.",
                    "İnsanlık ve toplumsal konular sizin için önemli. Dünyayı daha iyi bir yer haline getirmek için projeler geliştirebilirsiniz.",
                    "Bağımsızlık sizin için vazgeçilmez. Kendinizi özgürce ifade etme ihtiyacınızı dengeleyin ve ilişkilerinizde de alan bırakın.",
                    "Teknoloji ve bilim sizin ilgi alanlarınız. Bu alanlardaki gelişmeleri takip edin ve yenilikçi çözümler üretme konusunda yeteneklerinizi kullanın."
                ],
                "Balık": [
                    "Şefkatli doğanız ve yaratıcılığınız yükseliyor. Sezgilerinize güvenin ve benzersiz bakış açınızı ifade edin.",
                    "Neptün'ün etkisiyle sezgileriniz ve ruhsal bağlantınız güçleniyor. Bu dönemde sanatsal ilhamınız zirveye çıkacak ve yaratıcı projeler sizi bekliyor.",
                    "Empati yeteneğiniz sayesinde başkalarının duygularını derinlemesine anlayabilirsiniz. Bu yeteneğinizi iyileştirici çalışmalar için kullanın.",
                    "Hayaller dünyasında kaybolma eğiliminiz olabilir. Gerçeklerle bağlantınızı koruyun ve pratik konulara da dikkat edin.",
                    "Manevi konulara ilginiz artıyor. Meditasyon, yoga gibi ruhsal uygulamalar size iç huzur ve denge getirecek."
                ]
            };

            // Burç için olan yorumlardan rastgele 2 tanesi seçilsin ve birleştirilsin
            const signReadings = horoscopes[sign];
            const randomIndex1 = Math.floor(Math.random() * signReadings.length);
            let randomIndex2 = Math.floor(Math.random() * signReadings.length);

            // İkinci indeksin farklı olmasını sağla
            while (randomIndex2 === randomIndex1 && signReadings.length > 1) {
                randomIndex2 = Math.floor(Math.random() * signReadings.length);
            }

            return signReadings[randomIndex1] + " " + (randomIndex1 !== randomIndex2 ? signReadings[randomIndex2] : "");
        }

        // Fal kategorileri ve yorumları
        function getFortunes() {
            const fortuneCategories = {
                aşk: [
                    "Yakında hayatına güzel, akıllı ve sevgi dolu biri girecek ve kalbini fethedecek.",
                    "Aşkta yaşadığın hayal kırıklıkları sona eriyor. Yakında gerçek sevgiyle tanışacaksın.",
                    "Kalbin uzun süre sonra ilk kez yeniden heyecanla çarpacak. Bu duyguya hazır ol.",
                    "Gizli bir hayranın var ve yakında kendini sana açmak için cesaret bulacak.",
                    "Eski bir aşk yakında kapını çalabilir. Bu sefer bambaşka bir hikaye yazabilirsiniz.",
                    "Yakında bir ayrılık yaşayabilirsin, ancak bu senin için yeni bir başlangıç olacak.",
                    "Eski bir sevgilinden haber alacaksın. Bu, geçmişi kapatmak için bir fırsat olabilir.",
                    "Kalp kırgınlığın bir armağanla tamir edilecek. Kendini açık tut ve yeni olasılıklara izin ver.",
                    "Aşk hayatında büyük bir dönüşüm yaşamak üzeresin. Gönlün ferah olsun, mutlu günler yaklaşıyor.",
                    "İki kişi arasında kalmak seni zorlasa da, kalbinin sesini dinlediğinde doğru seçimi yapacaksın.",
                    "Birlikte olduğun kişiyle bağların güçlenecek ve ilişkiniz yeni bir seviyeye taşınacak.",
                    "Aşk kapını çalmak üzere, ancak onu fark etmek için gözlerini ve kalbini açık tutmalısın.",
                    "Yakında karşına çıkacak biri, hayatının aşkı olabilir. İlk izlenimlere dikkat et.",
                    "Geçmişteki aşk yaralarının iyileşme zamanı geldi. Kendini sevmeye başladığında, gerçek aşkı da bulacaksın.",
                    "Uzun süredir hayalini kurduğun ilişki çok yakında gerçeğe dönüşecek. Sabırlı ol.",
                    "Aşkta şans yıldızların yükseldiği bir döneme giriyorsun. Yeni tanışmalar kapıda."
                ],
                kariyer: [
                    "Yaratıcılığın seni ünlü ve şanslı yapacak. Yeteneklerini göstermekten çekinme.",
                    "Önümüzdeki ay kariyerinde önemli bir fırsat karşına çıkacak. Hazırlıklı ol.",
                    "Sıkı çalışmanın meyvelerini almak üzeresin. Unutma, hayaller ruhunun yazdığı kitaptan alınan illüstrasyonlardır.",
                    "Liderlik vasıfların önümüzdeki haftalarda test edilecek ve kanıtlanacak.",
                    "Birçok işi aynı anda yönetme yeteneğin seni çok ileriye taşıyacak.",
                    "İş hayatında beklenmedik bir teklif alacaksın. Bu teklifi değerlendirirken sezgilerine güven.",
                    "Kariyerinde yeni bir sayfa açma zamanı geldi. Cesur adımlar atmaktan korkma.",
                    "Uzun zamandır üzerinde çalıştığın proje sonunda meyvelerini verecek.",
                    "İş yerinde yeni bir sorumluluk alacaksın ve bu senin becerilerini geliştirmene yardımcı olacak.",
                    "Yakında önemli bir kişiyle tanışacak ve bu tanışma kariyerinde dönüm noktası olacak.",
                    "Finansal durumunda iyileşme görünüyor. Akıllı yatırımlar için uygun zaman.",
                    "Yeni bir iş teklifine hazır ol. Bu teklif seni şaşırtabilir ama büyük fırsatlar içeriyor.",
                    "Mesleki gelişim için yeni bir eğitim veya kurs, kariyerini bambaşka bir noktaya taşıyabilir.",
                    "İşbirliği yapacağın yeni kişiler, yeteneklerini farklı alanlarda kullanmanı sağlayacak."
                ],
                kişisel: [
                    "Yakında ömür boyu sürecek bir dostluk kuracaksın. Bu ilişki hayatını değiştirecek.",
                    "Heyecan verici zamanlar çok yakında seni bekliyor. Yeni deneyimlere açık ol.",
                    "En beklemediğin anda bir hayalin gerçek olacak. Mucizeler kapında.",
                    "Seyahat planların beklenmedik mutluluklar getirecek. Yeni yerler keşfetmeye hazırlan.",
                    "Bilgeliğin, birinin zor bir durumdan çıkmasına yardımcı olacak. Çevrene ilham vereceksin.",
                    "Unuttuğun bir arkadaşın yakında hayatında yeniden belirecek ve güzel anıları canlandıracak.",
                    "Hoş bir sürpriz köşe başında seni bekliyor. Gözlerini açık tut, anı yaşa.",
                    "Yeni bir bakış açısı, eski bir sorunu çözmene yardımcı olacak. Farklı perspektiflerden bakmayı dene.",
                    "Sezgilerine güven. Evren sana rehberlik ediyor ve doğru yoldasın.",
                    "Şu anda bulunduğun yol büyük bir başarıya çıkıyor. Adımlarını inançla at.",
                    "Tesadüfi bir karşılaşma değerli bir bağlantıya yol açacak. Sosyal ortamlarda aktif ol.",
                    "Beklenmedik bir hediye alacaksın ve bu seni derinden etkileyecek.",
                    "Uzun zamandır ertelediğin bir konuyu çözme zamanı geldi. Harekete geç.",
                    "Sağlığına daha fazla önem verme zamanı. Yeni bir spor veya aktivite hayatına renk katacak.",
                    "Yakında aileni ilgilendiren güzel bir haber alacaksın. Bu haber seni rahatlatacak.",
                    "Kişisel gelişiminde önemli bir adım atmak üzeresin. Kendini keşfetme yolculuğunda yeni kapılar açılacak."
                ],
                şans: [
                    "Küçük bir yatırım büyük kazançlar sağlayacak. Finansal fırsatlara dikkat et.",
                    "Bir yabancıya gösterdiğin nezaket sana on kat olarak geri dönecek. İyilik yap, iyilik bul.",
                    "Şans yıldızın parlıyor. Bu hafta şans oyunlarında küçük bir deneme yapabilirsin.",
                    "Yakında hayatına girecek beklenmedik bir şans, planlarını değiştirecek.",
                    "Uzun zamandır beklediğin o kapı sonunda açılıyor. Hazırlıklı ol ve fırsatı kaçırma.",
                    "Gezegenlerin dizilimi bu ay senin için şanslı günler getiriyor. Bu enerjiden yararlan.",
                    "Bir tesadüf, hayatını olumlu yönde değiştirecek bir fırsata dönüşecek.",
                    "Şans çarkı senin lehine dönüyor. Cesur adımlar atmaktan çekinme.",
                    "Beklenmedik bir kazanç seni rahatlatacak. Mali konularda ferahlamaya başlayacaksın.",
                    "Uzun zamandır hayalini kurduğun şey gerçek oluyor. Evren dileklerini duydu.",
                    "Kısmette açılma var. Yeni ve bereketli bir döneme giriyorsun.",
                    "Bir kaybın yerine daha büyük bir kazanç gelecek. Her şerde bir hayır vardır.",
                    "Talih kuşu yakında omzuna konacak. Bu dönemde gelen fırsatları iyi değerlendir."
                ],
                manevi: [
                    "Ruhsal yolculuğunda önemli bir aşamaya geldin. İç sesini dinle ve rehberliğine güven.",
                    "Yakında manevi bir aydınlanma yaşayacaksın. Bu deneyim hayata bakışını değiştirecek.",
                    "Meditasyon ve farkındalık pratikleri, iç huzurunu bulmana yardımcı olacak.",
                    "Evren sana önemli bir mesaj göndermeye çalışıyor. İşaretlere dikkat et.",
                    "Kozmik enerjiler seninle uyum içinde. Bu dönemde dileklerin daha hızlı gerçekleşecek.",
                    "Karman temizleniyor. Geçmişteki zorlukların sebebi, daha parlak bir geleceğe hazırlanmaktı.",
                    "Ruhsal rehberlerin sana yol göstermek için yakınında. Onların varlığını hissetmeye başlayacaksın.",
                    "İçsel bilgeliğin artıyor. Başkaları da bu değişimi fark edecek ve sana danışacak.",
                    "Yakında manevi bir öğretmenle tanışabilirsin. Bu karşılaşma hayatını değiştirebilir.",
                    "Şükran duygusu kalbini dolduracak. Minnet duygusunun gücünü keşfedeceksiniz.",
                    "Ruh eşinle bağlantın güçleniyor. Bu kişi zaten hayatında olabilir veya yakında karşına çıkacak.",
                    "Evrenle olan bağın derinleşiyor. Sezgisel yeteneklerin artıyor, onlara güven.",
                    "Manevi dengeni bulmak için doğayla daha fazla zaman geçirmelisin. Toprakla bağlantı kur.",
                    "Yakında yaşayacağın bir deneyim, ruhsal uyanışına katkıda bulunacak.",
                    "Geçmiş hayat anıları veya dejavu deneyimleri artabilir. Bunlar sana önemli mesajlar içeriyor."
                ]
            };

            // Tüm kategorilerdeki falları birleştir
            let allFortunes = [];
            for (const category in fortuneCategories) {
                allFortunes = allFortunes.concat(fortuneCategories[category]);
            }

            return allFortunes;
        }

        // Kullanıcı özelliklerine göre kişiselleştirilmiş fal yorumu oluştur
        function getFortuneForUser(firstName, lastName, birthdate) {
            // Kullanıcı için benzersiz bir anahtar oluştur
            const userKey = `${firstName.toLowerCase()}_${lastName.toLowerCase()}_${birthdate.toISOString().split('T')[0]}`;

            // Bu kullanıcı için kayıtlı bir fal olup olmadığını kontrol et
            let storedFortune = localStorage.getItem(`fortune_${userKey}`);
            let storedTimestamp = localStorage.getItem(`fortune_timestamp_${userKey}`);

            // Kayıtlı bir fal varsa, hala geçerli olup olmadığını kontrol et (15 dakikadan az)
            if (storedFortune && storedTimestamp) {
                const now = new Date().getTime();
                const timestamp = parseInt(storedTimestamp);
                const fifteenMinutesInMs = 15 * 60 * 1000;

                if (now - timestamp < fifteenMinutesInMs) {
                    // Fal hala geçerli
                    return storedFortune;
                }
            }

            // Buraya ulaşırsak, yeni bir fala ihtiyacımız var
            const fortunes = getFortunes();

            // Kullanıcının doğum tarihinden burcunu al
            const zodiacSign = getZodiacSign(birthdate);

            // Burçla ilgili özel bir giriş cümlesi oluştur
            const zodiacIntros = {
                "Koç": ["Ateş elementinin etkisi altında, ", "Mars'ın enerjisiyle, ", "Liderlik yıldızın parlıyor, "],
                "Boğa": ["Toprak elementinin sağlamlığıyla, ", "Venüs'ün güzelliğiyle bezeli yolunda, ", "Kararlı doğanla, "],
                "İkizler": ["Hava elementinin esnekliğiyle, ", "Merkür'ün zekâsıyla, ", "Çift yönlü karakterinle, "],
                "Yengeç": ["Su elementinin derinliğiyle, ", "Ay'ın duygusal rehberliğiyle, ", "Koruyucu kalkanın altında, "],
                "Aslan": ["Ateş elementinin görkemiyle, ", "Güneş'in parlaklığıyla, ", "Asil yüreğinle, "],
                "Başak": ["Toprak elementinin pratikliğiyle, ", "Merkür'ün analitik gücüyle, ", "Detaycı yaklaşımınla, "],
                "Terazi": ["Hava elementinin zarafetiyle, ", "Venüs'ün harmonisiyle, ", "Dengeli ruhunla, "],
                "Akrep": ["Su elementinin yoğunluğuyla, ", "Plüton'un dönüştürücü enerjisiyle, ", "Tutkulu doğanla, "],
                "Yay": ["Ateş elementinin özgürlüğüyle, ", "Jüpiter'in genişleyen vizyonuyla, ", "Maceracı ruhunla, "],
                "Oğlak": ["Toprak elementinin disipliniyle, ", "Satürn'ün bilgeliğiyle, ", "Azimli karakterinle, "],
                "Kova": ["Hava elementinin yenilikçiliğiyle, ", "Uranüs'ün devrimci enerjisiyle, ", "Özgün bakış açınla, "],
                "Balık": ["Su elementinin akışkanlığıyla, ", "Neptün'ün ruhani etkisiyle, ", "Duyarlı kalbinle, "]
            };

            // Rastgele bir giriş cümlesi seç
            const introOptions = zodiacIntros[zodiacSign] || ["Yıldızların rehberliğinde, ", "Evrenin yolunda, ", "Kozmik enerjilerin etkisiyle, "];
            const randomIntro = introOptions[Math.floor(Math.random() * introOptions.length)];

            // Rastgele bir fal seç
            let hash = 0;
            const str = userKey + new Date().toISOString().substring(0, 13); // Her saat değişmesi için mevcut saati ekle
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // 32 bit tam sayıya dönüştür
            }

            // Pozitif bir indeks olduğundan emin ol ve rastgele bir fal seç
            hash = Math.abs(hash);
            const fortuneIndex = hash % fortunes.length;
            const selectedFortune = fortunes[fortuneIndex];

            // Kişiselleştirilmiş fal oluştur
            const personalizedFortune = randomIntro + selectedFortune;

            // Yeni falı ve zaman damgasını kaydet
            localStorage.setItem(`fortune_${userKey}`, personalizedFortune);
            localStorage.setItem(`fortune_timestamp_${userKey}`, new Date().getTime().toString());

            return personalizedFortune;
        }

        // Kullanıcı bilgisine dayalı belirleyici fal al (15 dakika aynı kalır)
        function getFortuneForUser(firstName, lastName, birthdate) {
            // Kullanıcı için benzersiz bir anahtar oluştur
            const userKey = `${firstName.toLowerCase()}_${lastName.toLowerCase()}_${birthdate.toISOString().split('T')[0]}`;

            // Bu kullanıcı için kayıtlı bir fal olup olmadığını kontrol et
            let storedFortune = localStorage.getItem(`fortune_${userKey}`);
            let storedTimestamp = localStorage.getItem(`fortune_timestamp_${userKey}`);

            // Kayıtlı bir fal varsa, hala geçerli olup olmadığını kontrol et (15 dakikadan az)
            if (storedFortune && storedTimestamp) {
                const now = new Date().getTime();
                const timestamp = parseInt(storedTimestamp);
                const fifteenMinutesInMs = 15 * 60 * 1000;

                if (now - timestamp < fifteenMinutesInMs) {
                    // Fal hala geçerli
                    return storedFortune;
                }
            }

            // Buraya ulaşırsak, yeni bir fala ihtiyacımız var
            const fortunes = getFortunes();

            // Bir fal seçmek için belirleyici bir yaklaşım kullan
            // Bu rastgele görünür ancak aynı girdi için her zaman aynı falı döndürür
            // Kullanıcının bilgilerine dayalı basit bir hash fonksiyonu kullanacağız
            let hash = 0;
            const str = userKey + new Date().toISOString().substring(0, 13); // Her saat değişmesi için mevcut saati ekle
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // 32 bit tam sayıya dönüştür
            }

            // Pozitif bir indeks olduğundan emin ol
            hash = Math.abs(hash);
            const fortuneIndex = hash % fortunes.length;
            const selectedFortune = fortunes[fortuneIndex];

            // Yeni falı ve zaman damgasını kaydet
            localStorage.setItem(`fortune_${userKey}`, selectedFortune);
            localStorage.setItem(`fortune_timestamp_${userKey}`, new Date().getTime().toString());

            return selectedFortune;
        }



        // Doküman hazır fonksiyonu
        document.addEventListener('DOMContentLoaded', function() {
            createStars();

            // Logo tıklama olayı
            document.getElementById('omFortuneLogoBtn').addEventListener('click', function() {
                // Tüm bölümleri gizle ve ana bölümü göster
                document.getElementById('fortuneSection').classList.remove('visible');
                document.getElementById('fortuneSection').classList.add('hidden');
                document.getElementById('horoscopeSection').classList.remove('visible');
                document.getElementById('horoscopeSection').classList.add('hidden');
                document.getElementById('birthdateSection').classList.remove('visible');
                document.getElementById('birthdateSection').classList.add('hidden');
                document.getElementById('nameSection').classList.remove('hidden');
                document.getElementById('nameSection').classList.add('visible');
            });

            // Arka plan müziği için
            const music = document.getElementById('backgroundMusic');
            music.volume = 0.2; // Kısık ses seviyesi (0.0 - 1.0 arası)

            // Başlangıçta müzik kapalı olarak ayarlandı
            let isMuted = true;

            // Sayfa ilk yüklendiğinde sesi başlatma denemesi
            try {
                // Kullanıcı etkileşimi sonrası müzik başlatma (tarayıcı politikaları gereği)
                document.addEventListener('click', function() {
                    if (music.paused) {
                        music.play().then(() => {
                            isMuted = false;
                            audioControlDiv.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>';
                        }).catch(e => console.log("Müzik çalma hatası:", e));
                    }
                }, { once: true });
            } catch (e) {
                console.log("Otomatik müzik başlatma hatası:", e);
            }


            // Form gezinme değişkenleri
            const nameSection = document.getElementById('nameSection');
            const birthdateSection = document.getElementById('birthdateSection');
            const horoscopeSection = document.getElementById('horoscopeSection');
            const fortuneSection = document.getElementById('fortuneSection');

            // Kullanıcı bilgileri depolama
            let userInfo = {
                firstName: "",
                lastName: "",
                birthdate: null,
                zodiac: ""
            };

            // İsim gönderimi
            document.getElementById('submitName').addEventListener('click', function() {
                const firstName = document.getElementById('firstName').value.trim();
                const lastName = document.getElementById('lastName').value.trim();

                if (firstName && lastName) {
                    userInfo.firstName = firstName;
                    userInfo.lastName = lastName;

                    // İsim bölümünü gizle, doğum tarihi bölümünü göster
                    nameSection.classList.remove('visible');
                    nameSection.classList.add('hidden');
                    birthdateSection.classList.remove('hidden');
                    birthdateSection.classList.add('visible');
                } else {
                    alert("Lütfen adınızı ve soyadınızı girin.");
                }
            });

            // Doğum tarihi gönderimi
            document.getElementById('submitBirthdate').addEventListener('click', function() {
                const birthdateValue = document.getElementById('birthdate').value;

                if (birthdateValue) {
                    const birthdate = new Date(birthdateValue);
                    userInfo.birthdate = birthdate;
                    userInfo.zodiac = getZodiacSign(birthdate);

                    // Burç bölümünü kullanıcı bilgileriyle güncelle
                    document.getElementById('userName').textContent = `Ad:: ${userInfo.firstName} ${userInfo.lastName}`;
                    document.getElementById('userBirthdate').textContent = `Doğum Tarihi: ${birthdate.toLocaleDateString()}`;
                    document.getElementById('userZodiac').textContent = `Burcunuz: ${userInfo.zodiac}`;
                    document.getElementById('horoscopeText').textContent = getHoroscopeText(userInfo.zodiac);

                    // Doğum tarihi bölümünü gizle, burç bölümünü göster
                    birthdateSection.classList.remove('visible');
                    birthdateSection.classList.add('hidden');
                    horoscopeSection.classList.remove('hidden');
                    horoscopeSection.classList.add('visible');
                } else {
                    alert("Lütfen doğum tarihinizi girin.");
                }
            });

            // Parmak izi tarama
            let fingerprintTimer;
            let isFingerprintActive = false;
            const fingerprintButton = document.getElementById('fingerprintButton');
            const fingerprintLoader = document.getElementById('fingerprintLoader');
            const fingerprintIcon = fingerprintButton.querySelector('.fingerprint-icon');
            let startX, startY;

            function resetFingerprint() {
                if (fingerprintTimer) {
                    clearTimeout(fingerprintTimer);
                    fingerprintTimer = null;
                }
                isFingerprintActive = false;
                fingerprintLoader.style.display = 'none';
                document.getElementById('scanLine').style.display = 'none';
                fingerprintIcon.style.opacity = '1';
            }

            function startFingerprint(e) {
                // Ses efekti başlat
                if (music && !music.paused) {
                    // Varsa mevcut müziğin sesini hafifçe azalt
                    music.volume = 0.1;
                }

                // Tarama ses efekti eklenebilir
                // const scanSound = new Audio('scan-sound.mp3');
                // scanSound.play();

                // Mouse veya dokunma başlangıç koordinatlarını kaydet
                if (e.type === 'touchstart') {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                } else {
                    startX = e.clientX;
                    startY = e.clientY;
                }

                if (e.type === 'touchstart') e.preventDefault();
                isFingerprintActive = true;

                // Animasyonları başlat
                fingerprintLoader.style.display = 'block';
                const scanLine = document.getElementById('scanLine');
                scanLine.style.display = 'block';

                // Parmak izi ikonunun hafif şeffaflaşması için
                fingerprintIcon.style.opacity = '0.7';

                // Pulslama efekti
                let pulseCount = 0;
                const pulseAnimation = setInterval(() => {
                    if (!isFingerprintActive) {
                        clearInterval(pulseAnimation);
                        return;
                    }

                    fingerprintIcon.style.filter = `brightness(${1.5 + Math.sin(pulseCount * 0.3) * 0.3})`;
                    pulseCount++;
                }, 100);

                fingerprintTimer = setTimeout(function() {
                    // Temizlikler
                    clearInterval(pulseAnimation);

                    // Müzik sesini normale çevir
                    if (music && !music.paused) {
                        music.volume = 0.2;
                    }

                    // Kullanıcı bilgilerine dayalı tutarlı fal oluştur
                    let fortune = getFortuneForUser(userInfo.firstName, userInfo.lastName, userInfo.birthdate);

                    // Fal metnini satır satır formatlama
                    fortune = formatFortuneWithLineBreaks(fortune);

                    // Formatlanmış fal metni oluşturan fonksiyon
                    function formatFortuneWithLineBreaks(text) {
                        // Cümleleri ayır
                        const sentences = text.match(/[^.!?]+[.!?]+/g) || [text];

                        // Her 1-2 cümle sonrası satır ekle
                        let formattedText = '';
                        let sentenceCount = 0;
                        let paragraph = '';

                        sentences.forEach(sentence => {
                            paragraph += sentence.trim() + ' ';
                            sentenceCount++;

                            // Her 1-2 cümle sonrası yeni paragraf
                            if (sentenceCount >= (Math.random() > 0.5 ? 1 : 2)) {
                                formattedText += paragraph.trim() + '\n\n';
                                paragraph = '';
                                sentenceCount = 0;
                            }
                        });

                        // Kalan cümleleri ekle
                        if (paragraph.trim()) {
                            formattedText += paragraph.trim();
                        }

                        return formattedText.trim();
                    }

                    // Burç bölümünü gizle, fal bölümünü göster
                    horoscopeSection.classList.remove('visible');
                    horoscopeSection.classList.add('hidden');
                    fortuneSection.classList.remove('hidden');
                    fortuneSection.classList.add('visible');

                    // Fal sonuç alanını temizle
                    const fortuneResult = document.getElementById('fortuneResult');
                    fortuneResult.innerHTML = '';

                    // Arka plan parlaması ekle
                    const fortuneGlow = document.createElement('div');
                    fortuneGlow.className = 'fortune-glow';
                    fortuneResult.appendChild(fortuneGlow);

                    // Mistik giriş efekti
                    const introDiv = document.createElement('div');
                    introDiv.className = 'fortune-intro';
                    introDiv.innerHTML = '<div class="fortune-symbol">✧</div>';
                    fortuneResult.appendChild(introDiv);

                    // Metni karakter karakter sihirli şekilde göster
                    setTimeout(() => {
                        introDiv.style.opacity = '0';
                        setTimeout(() => {
                            introDiv.remove();
                            displayMagicalText(fortune, fortuneResult);
                        }, 500);
                    }, 1500);

                    // Fortune intro için stil ekle
                    const style = document.createElement('style');
                    style.textContent = `
                        .fortune-intro {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            background: rgba(0,0,0,0.2);
                            z-index: 2;
                            transition: opacity 0.5s ease;
                        }
                        .fortune-symbol {
                            font-size: 3rem;
                            color: white;
                            animation: pulseSymbol 1.5s infinite;
                        }
                        @keyframes pulseSymbol {
                            0%, 100% { 
                                transform: scale(1);
                                opacity: 0.7;
                            }
                            50% { 
                                transform: scale(1.5);
                                opacity: 1;
                            }
                        }
                    `;
                    document.head.appendChild(style);

                    // Parlayan yıldızlar ekle
                    createSparkles(fortuneResult);

                    resetFingerprint();
                }, 3000);
            }

            function checkMovement(e) {
                if (!isFingerprintActive) return;

                let currentX, currentY;
                if (e.type === 'touchmove') {
                    currentX = e.touches[0].clientX;
                    currentY = e.touches[0].clientY;
                } else {
                    currentX = e.clientX;
                    currentY = e.clientY;
                }

                // Parmağın veya farenin 10 pikselden fazla kaydığını kontrol et
                const diffX = Math.abs(currentX - startX);
                const diffY = Math.abs(currentY - startY);

                if (diffX > 10 || diffY > 10) {
                    resetFingerprint();
                }
            }

            // Mouse olayları
            fingerprintButton.addEventListener('mousedown', startFingerprint);
            fingerprintButton.addEventListener('mouseup', resetFingerprint);
            fingerprintButton.addEventListener('mouseleave', resetFingerprint);
            document.addEventListener('mousemove', checkMovement);

            // Dokunmatik olaylar
            fingerprintButton.addEventListener('touchstart', startFingerprint);
            fingerprintButton.addEventListener('touchend', resetFingerprint);
            fingerprintButton.addEventListener('touchcancel', resetFingerprint);
            document.addEventListener('touchmove', checkMovement, { passive: false });

            // Fal seçenek butonları
            const optionButtons = document.querySelectorAll('.option-button');
            const optionContents = document.querySelectorAll('.fortune-option-content');

            optionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const option = this.getAttribute('data-option');

                    // Tüm butonların aktif sınıfını kaldır
                    optionButtons.forEach(btn => btn.classList.remove('active'));

                    // Tıklanan butona aktif sınıfı ekle
                    this.classList.add('active');

                    // Tüm içerik bölümlerini gizle
                    optionContents.forEach(content => content.classList.remove('active'));

                    // İlgili içerik bölümünü göster
                    if (option === 'fingerprint') {
                        document.getElementById('fingerprintDiv').classList.add('active');
                    } else if (option === 'tarot') {
                        document.getElementById('tarotDiv').classList.add('active');
                    }
                });
            });



            // Paylaş butonu - Görsel üretme ve paylaşma
            document.getElementById('shareButton').addEventListener('click', function() {
                const fortune = document.getElementById('fortuneResult').textContent;
                const userName = userInfo.firstName + " " + userInfo.lastName;
                const zodiac = userInfo.zodiac;

                // Görsel oluştur
                createFortuneImage(fortune, userName, zodiac).then(imageUrl => {
                    // Görseli paylaş
                    if (navigator.share) {
                        fetch(imageUrl)
                            .then(res => res.blob())
                            .then(blob => {
                                const file = new File([blob], 'mystik-fal.png', { type: 'image/png' });
                                navigator.share({
                                    title: 'OmFortune',
                                    text: 'OmFortune\'dan falım!',
                                    files: [file]
                                }).catch(error => {
                                    console.error('Paylaşım hatası:', error);
                                    // Alternatif: resmi indirme
                                    downloadFortuneImage(imageUrl);
                                });
                            });
                    } else {
                        // Web Paylaşım API'sini desteklemeyen tarayıcılar için indirme yaptır
                        downloadFortuneImage(imageUrl);
                    }
                });
            });

            // Fal görselini oluştur
            function createFortuneImage(fortune, userName, zodiacSign) {
                return new Promise((resolve) => {
                    // Canvas oluştur
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = 800;
                    canvas.height = 800;

                    // Arka plan - daha zengin ve estetik bir gradient
                    const gradient = ctx.createRadialGradient(
                        canvas.width / 2, canvas.height / 2, 0,
                        canvas.width / 2, canvas.height / 2, canvas.width
                    );
                    gradient.addColorStop(0, '#5e35b1');    // Daha koyu mor
                    gradient.addColorStop(0.3, '#4527a0');  // Orta mor
                    gradient.addColorStop(0.7, '#311b92');  // Daha koyu mor
                    gradient.addColorStop(1, '#1a237e');    // Lacivert
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);

                    // Arka planda loş ışık efekti
                    drawGlow(ctx, canvas.width / 2, canvas.height / 2, 300, 'rgba(156, 39, 176, 0.2)');

                    // Daha parlak yıldızlar ekle
                    drawStars(ctx, canvas.width, canvas.height);

                    // Birkaç büyük yıldız ekle
                    drawShiningStars(ctx, canvas.width, canvas.height);

                    // Kayan yıldız çiz
                    drawShootingStar(ctx, canvas.width, canvas.height);

                    // Ortada şık bir çerçeve - içeriğe daha uygun boyutlar
                    const frameWidth = canvas.width - 180;  // Biraz daha geniş çerçeve
                    const frameHeight = canvas.height - 350; // Daha uzun bir çerçeve
                    const frameX = (canvas.width - frameWidth) / 2;
                    const frameY = 180; // Biraz daha aşağıda

                    // Şeffaf arka plan ile çerçeve
                    ctx.fillStyle = 'rgba(25, 25, 35, 0.7)';
                    roundRect(ctx, frameX, frameY, frameWidth, frameHeight, 20);

                    // Çerçeve kenarı
                    ctx.strokeStyle = 'rgba(216, 184, 234, 0.8)';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    roundRectPath(ctx, frameX, frameY, frameWidth, frameHeight, 20);
                    ctx.stroke();

                    // Çerçevenin üst kısmında dekoratif çizgi
                    drawDecoLine(ctx, frameX + 30, frameY + 15, frameWidth - 60, 'rgba(216, 184, 234, 0.8)');

                    // Başlık - daha şık font ve renk
                    ctx.fillStyle = '#f3e5f5';
                    ctx.font = 'bold 52px "Segoe UI", sans-serif';
                    ctx.textAlign = 'center';
                    ctx.fillText('OmFortune', canvas.width / 2, 120);

                    // Altın renkli küçük alt başlık
                    ctx.fillStyle = 'rgba(255, 223, 0, 0.85)';
                    ctx.font = 'italic 20px "Segoe UI", sans-serif';
                    ctx.fillText('Yıldızların rehberliğinde...', canvas.width / 2, 155);

                    // İsim
                    ctx.fillStyle = '#e1bee7';
                    ctx.font = '28px "Segoe UI", sans-serif';
                    ctx.fillText(userName, canvas.width / 2, frameY + 50);

                    // Burç adı - daha gösterişli
                    const zodiacGradient = ctx.createLinearGradient(canvas.width/2 - 100, 0, canvas.width/2 + 100, 0);
                    zodiacGradient.addColorStop(0, '#ba68c8');
                    zodiacGradient.addColorStop(0.5, '#e1bee7');
                    zodiacGradient.addColorStop(1, '#ba68c8');
                    ctx.fillStyle = zodiacGradient;
                    ctx.font = 'bold 32px "Segoe UI", sans-serif';
                    ctx.fillText(zodiacSign, canvas.width / 2, frameY + 100);

                    // Burç simgesi altında süsleme çizgisi
                    drawDecoLine(ctx, frameX + 100, frameY + 120, frameWidth - 200, 'rgba(216, 184, 234, 0.5)');

                    // Fal metni - Metin taşmasını önlemek için daha küçük yazı tipi ve daha geniş kenar boşluğu
                    ctx.fillStyle = 'white';
                    ctx.shadowColor = 'rgba(147, 112, 219, 0.7)';
                    ctx.shadowBlur = 5;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;
                    ctx.font = 'italic 24px "Segoe UI", sans-serif';
                    wrapText(ctx, fortune, canvas.width / 2, frameY + 170, frameWidth - 160, 34);

                    // Çerçeve içinde parıltı efekti ekleme
                    const sparkleCount = 8;
                    for (let i = 0; i < sparkleCount; i++) {
                        const sparkleX = frameX + Math.random() * frameWidth;
                        const sparkleY = frameY + Math.random() * frameHeight;
                        const sparkleSize = Math.random() * 3 + 2;

                        // Parıltı çizimi
                        ctx.beginPath();
                        ctx.arc(sparkleX, sparkleY, sparkleSize, 0, Math.PI * 2);
                        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                        ctx.fill();

                        // Parıltı ışıması
                        const glowSize = sparkleSize * 3;
                        const glowGradient = ctx.createRadialGradient(
                            sparkleX, sparkleY, 0,
                            sparkleX, sparkleY, glowSize
                        );
                        glowGradient.addColorStop(0, 'rgba(255, 255, 255, 0.6)');
                        glowGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');

                        ctx.fillStyle = glowGradient;
                        ctx.beginPath();
                        ctx.arc(sparkleX, sparkleY, glowSize, 0, Math.PI * 2);
                        ctx.fill();
                    }

                    ctx.shadowBlur = 0;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;

                    // Şık bir logo konteyneri 
                    const logoSize = 50;
                    const logoX = canvas.width - 80;
                    const logoY = canvas.height - 80;

                    // Logo arka plan
                    const logoGradient = ctx.createRadialGradient(
                        logoX, logoY, 0, 
                        logoX, logoY, logoSize
                    );
                    logoGradient.addColorStop(0, 'rgba(186, 104, 200, 0.9)');
                    logoGradient.addColorStop(1, 'rgba(123, 31, 162, 0.9)');
                    ctx.fillStyle = logoGradient;
                    ctx.beginPath();
                    ctx.arc(logoX, logoY, logoSize, 0, Math.PI * 2);
                    ctx.fill();

                    // Logo parlaması
                    ctx.shadowColor = 'rgba(156, 39, 176, 0.8)';
                    ctx.shadowBlur = 15;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;
                    ctx.beginPath();
                    ctx.arc(logoX, logoY, logoSize - 2, 0, Math.PI * 2);
                    ctx.strokeStyle = 'rgba(225, 190, 231, 0.8)';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                    ctx.shadowBlur = 0;

                    // Logo metni
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 28px "Segoe UI", sans-serif';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText('OM', logoX, logoY);

                    // Alt bilgi mesajı - kaldırıldı

                    // Canvas'ı URL'ye dönüştür
                    resolve(canvas.toDataURL('image/png'));
                });
            }

            // Yuvarlak köşeli dikdörtgen yolu
            function roundRectPath(ctx, x, y, width, height, radius) {
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + radius);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
            }

            // Süsleme çizgisi çiz
            function drawDecoLine(ctx, x, y, width, color) {
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(x + width, y);
                ctx.strokeStyle = color;
                ctx.lineWidth = 1;
                ctx.stroke();

                // Orta nokta işareti
                ctx.beginPath();
                ctx.arc(x + width/2, y, 3, 0, Math.PI * 2);
                ctx.fillStyle = color;
                ctx.fill();
            }

            // Parlama efekti çiz
            function drawGlow(ctx, x, y, radius, color) {
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, radius);
                gradient.addColorStop(0, color);
                gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');

                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.fill();
            }

            // Parlayan büyük yıldızlar ekle
            function drawShiningStars(ctx, width, height) {
                for (let i = 0; i < 8; i++) {
                    const x = Math.random() * width;
                    const y = Math.random() * height;
                    const size = Math.random() * 3 + 2;

                    // Yıldız parlaması
                    drawGlow(ctx, x, y, size * 3, 'rgba(255, 255, 255, 0.3)');

                    // Yıldız merkezi
                    ctx.fillStyle = 'white';
                    ctx.beginPath();
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            // Kayan yıldız çiz
            function drawShootingStar(ctx, width, height) {
                const startX = Math.random() * width * 0.2;
                const startY = Math.random() * height * 0.3;
                const length = Math.random() * 100 + 50;
                const angle = Math.random() * 20 + 20; // Derece olarak açı

                // Radyan cinsinden açı
                const radianAngle = angle * Math.PI / 180;

                // Bitiş noktası hesapla
                const endX = startX + Math.cos(radianAngle) * length;
                const endY = startY + Math.sin(radianAngle) * length;

                // Gradyan oluştur
                const gradient = ctx.createLinearGradient(startX, startY, endX, endY);
                gradient.addColorStop(0, 'rgba(255, 255, 255, 0.1)');
                gradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.8)');
                gradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)');

                // Çizgiyi çiz
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = gradient;
                ctx.lineWidth = 2;
                ctx.stroke();

                // Yıldız başını çiz
                drawGlow(ctx, endX, endY, 6, 'rgba(255, 255, 255, 0.5)');
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(endX, endY, 2, 0, Math.PI * 2);
                ctx.fill();
            }

            // Yıldızlar çizme - daha zengin ve farklı boyutlarda
            function drawStars(ctx, width, height) {
                // Küçük yıldızlar (çok sayıda)
                for (let i = 0; i < 150; i++) {
                    const x = Math.random() * width;
                    const y = Math.random() * height;
                    const size = Math.random() * 1.5 + 0.5;

                    // Rastgele parlaklık
                    const alpha = Math.random() * 0.5 + 0.5;
                    ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;

                    ctx.beginPath();
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }

                // Orta boy yıldızlar (daha az sayıda)
                for (let i = 0; i < 30; i++) {
                    const x = Math.random() * width;
                    const y = Math.random() * height;
                    const size = Math.random() * 2 + 1;

                    // Hafif parlama efekti
                    ctx.beginPath();
                    ctx.arc(x, y, size + 1, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                    ctx.fill();

                    // Yıldız merkezi
                    ctx.beginPath();
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fillStyle = 'white';
                    ctx.fill();
                }

                // Birkaç renkli yıldız
                const starColors = ['#E1BEE7', '#D1C4E9', '#B2EBF2', '#FFCCBC'];
                for (let i = 0; i < 15; i++) {
                    const x = Math.random() * width;
                    const y = Math.random() * height;
                    const size = Math.random() * 2 + 1;
                    const color = starColors[Math.floor(Math.random() * starColors.length)];

                    ctx.beginPath();
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fillStyle = color;
                    ctx.fill();
                }
            }

            // Yuvarlak köşeli dikdörtgen çizme
            function roundRect(ctx, x, y, width, height, radius) {
                ctx.beginPath();
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
                ctx.closePath();
                ctx.fill();
            }

            // Geliştirilmiş metin kaydırma fonksiyonu - maksimum satır sayısı kontrolü eklendi
            function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
                const words = text.split(' ');
                let line = '';
                let currentY = y;
                const maxLines = 6; // Maksimum satır sayısı - çerçeveye sığması için
                let lineCount = 0;

                ctx.textAlign = 'center'; // Ortalanmış yazı için

                for (let n = 0; n < words.length; n++) {
                    const testLine = line + words[n] + ' ';
                    const metrics = ctx.measureText(testLine);
                    const testWidth = metrics.width;

                    if (testWidth > maxWidth && n > 0) {
                        ctx.fillText(line, x, currentY);
                        line = words[n] + ' ';
                        currentY += lineHeight;
                        lineCount++;

                        // Maksimum satır sayısını aştıysak kısalt ve çık
                        if (lineCount >= maxLines - 1) {
                            // Son satırsa ve hala kelimeler varsa üç nokta ekle
                            if (n < words.length - 1) {
                                line = line.trim() + '...';
                            }
                            break;
                        }
                    } else {
                        line = testLine;
                    }
                }

                ctx.fillText(line, x, currentY);
            }

            // Parlayan çerçeve efekti
            function drawGlowingBorder(ctx, x, y, width, height, radius) {
                ctx.save();
                ctx.strokeStyle = '#9575cd';
                ctx.lineWidth = 4;
                ctx.shadowColor = '#9575cd';
                ctx.shadowBlur = 15;

                ctx.beginPath();
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + width - radius, y);
                ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
                ctx.lineTo(x + width, y + height - radius);
                ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                ctx.lineTo(x + radius, y + height);
                ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
                ctx.closePath();
                ctx.stroke();
                ctx.restore();
            }

            // Görsel indirme fonksiyonu
            function downloadFortuneImage(dataUrl) {
                const a = document.createElement('a');
                a.href = dataUrl;
                a.download = 'mistik-fal.png';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                alert('Falınız görsel olarak indirildi! Bunu paylaşabilirsiniz.');
            }

            // Yeni fal butonu
            document.getElementById('newFortuneButton').addEventListener('click', function() {
                // Burç bölümüne geri dön
                fortuneSection.classList.remove('visible');
                fortuneSection.classList.add('hidden');
                horoscopeSection.classList.remove('hidden');
                horoscopeSection.classList.add('visible');
            });

            // Geliştirilmiş sihirli metin animasyonu
            function displayMagicalText(text, container) {
                const words = text.split(' ');
                let delay = 0;
                const delayIncrement = 40; // Her harf arasındaki gecikme (ms) - daha hızlı animasyon

                // Metnin satır satır gösterilmesi için paragraf bloklarına ayırma
                const lines = text.split("\n");
                if (lines.length > 1) {
                    // Eğer metin çoklu satır içeriyorsa, her satırı ayrı paragraf olarak ekle
                    lines.forEach((line, lineIndex) => {
                        const lineWords = line.split(' ');
                        const lineDelay = lineIndex * 500; // Her satır için ek gecikme

                        // Yeni paragraf oluştur
                        const para = document.createElement('p');
                        para.style.margin = '0 0 0.8em 0';

                        // Her kelimeyi işle
                        displayWordsWithMagic(lineWords, para, delay + lineDelay);

                        container.appendChild(para);
                        delay += lineWords.length * delayIncrement + 300; // Sonraki satır için ek gecikme
                    });
                } else {
                    // Tek satır metin için normal işlem
                    displayWordsWithMagic(words, container, delay);
                }

                // Büyülü efektlerle kelimeleri gösterme yardımcı fonksiyonu
                function displayWordsWithMagic(words, parentElement, startDelay) {
                    let currentDelay = startDelay;

                    words.forEach((word, wordIndex) => {
                        const wordSpan = document.createElement('span');
                        wordSpan.style.display = 'inline-block';
                        wordSpan.style.marginRight = '0.3em';

                        // Rastgele renk tonu seçimi için değerler
                        const hueValue = 280 + Math.floor(Math.random() * 40); // Mor tonları (280-320)

                        // Her kelime için harfleri tek tek ekle
                        for (let i = 0; i < word.length; i++) {
                            const charSpan = document.createElement('span');
                            charSpan.className = 'magical-text';
                            charSpan.textContent = word[i];
                            charSpan.style.animationDelay = `${currentDelay}ms`;
                            charSpan.style.setProperty('--delay', `${currentDelay}ms`);

                            // Özel karakterlere farklı renkler
                            if (word[i].match(/[!.?:;]/)) {
                                charSpan.style.color = `hsl(${hueValue}, 100%, 80%)`;
                                charSpan.style.textShadow = `0 0 10px hsla(${hueValue}, 100%, 60%, 0.8)`;
                            }

                            wordSpan.appendChild(charSpan);
                            currentDelay += delayIncrement;
                        }

                        parentElement.appendChild(wordSpan);

                        // Her kelimeden sonra bir boşluk ekle (son kelime hariç)
                        if (wordIndex < words.length - 1) {
                            const spaceSpan = document.createElement('span');
                            spaceSpan.style.display = 'inline-block';
                            spaceSpan.innerHTML = '&nbsp;';
                            parentElement.appendChild(spaceSpan);
                        }
                    });

                    return currentDelay;
                }
            }

            // Parlayan yıldızlar oluştur
            function createSparkles(container) {
                const sparkleCount = 15;
                const containerRect = container.getBoundingClientRect();

                // Belirli aralıklarla yeni yıldızlar oluştur
                for (let i = 0; i < sparkleCount; i++) {
                    setTimeout(() => {
                        if (!container.isConnected) return; // Container DOM'da değilse çık

                        const sparkle = document.createElement('div');
                        sparkle.className = 'fortune-sparkle';

                        // Rastgele pozisyon
                        const left = Math.random() * containerRect.width;
                        const top = Math.random() * containerRect.height;
                        sparkle.style.left = `${left}px`;
                        sparkle.style.top = `${top}px`;

                        // Rastgele boyut
                        const size = Math.random() * 4 + 2;
                        sparkle.style.width = `${size}px`;
                        sparkle.style.height = `${size}px`;

                        // Rastgele renk
                        const colors = ['#f9f1fe', '#e1bee7', '#ba68c8', '#ffffff'];
                        const color = colors[Math.floor(Math.random() * colors.length)];
                        sparkle.style.backgroundColor = color;
                        sparkle.style.boxShadow = `0 0 10px 2px ${color}`;

                        // Animasyon
                        sparkle.style.animation = `sparkle ${Math.random() * 2 + 2}s ease-in-out`;

                        container.appendChild(sparkle);

                        // Animasyon bitince elementi kaldır
                        sparkle.addEventListener('animationend', () => {
                            if (sparkle.parentNode) {
                                sparkle.parentNode.removeChild(sparkle);
                            }
                        });
                    }, i * 200); // Her yıldız arasında gecikme
                }

                // Her 3 saniyede bir yeni yıldızlar oluşturmaya devam et
                setTimeout(() => {
                    if (container.isConnected) {
                        createSparkles(container);
                    }
                }, 3000);
            }

        });
    </script>
</body>
</html>
