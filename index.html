<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fal Bakıcı</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7214107660665483"
     crossorigin="anonymous"></script>
    <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a237e, #311b92);
            color: white;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .logo {
            position: fixed;
            top: -10px;
            left: -10px;
            width: 120px;
            height: auto;
            z-index: 1001;
        }

        .container {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 30px;
            width: 80%;
            max-width: 500px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        h1 {
            margin-top: 0;
            color: #e0f7fa;
            font-size: 2.5rem;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .form-group {
            margin-bottom: 20px;
        }

        input, button {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            border-radius: 8px;
            border: none;
            font-size: 1rem;
        }

        input {
            background-color: rgba(255, 255, 255, 0.9);
        }

        button {
            background-color: #7e57c2;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: bold;
        }

        button:hover {
            background-color: #9575cd;
            transform: translateY(-2px);
        }

        #fingerprintButton {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto 0;
            background: transparent;
            border: none;
            box-shadow: none;
            transition: transform 0.3s ease;
            width: 100px;
            height: 100px;
            padding: 0;
            position: relative;
        }

        #fingerprintButton:hover {
            transform: scale(1.05);
        }

        #fingerprintButton:active {
            transform: scale(0.98);
        }

        .fingerprint-icon {
            width: 100px;
            height: 100px;
            filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        }

        #shareButton {
            background: linear-gradient(145deg, #4caf50, #388e3c);
            margin-top: 20px;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        #shareButton:hover {
            background: linear-gradient(145deg, #5cb860, #43a047);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.4);
        }

        #shareButton:active {
            transform: translateY(0);
        }

        #shareButton:before {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
        }

        .loader {
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top: 5px solid white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1.5s linear infinite;
            margin: 0 auto;
            display: none;
            position: absolute;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none;
        }

        .visible {
            display: block;
        }

        .fade-in {
            animation: fadeIn 1s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        #fortuneResult {
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            min-height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        .shooting-star {
            position: absolute;
            height: 2px;
            background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1));
            transform-origin: left;
            animation: shooting 5s linear infinite;
            opacity: 0;
        }

        @keyframes twinkle {
            0% { opacity: 0.2; }
            50% { opacity: 0.8; }
            100% { opacity: 0.2; }
        }

        @keyframes shooting {
            0% {
                transform: translateX(0) rotate(0deg);
                opacity: 0;
            }
            5% {
                opacity: 1;
            }
            20% {
                transform: translateX(calc(100vw - 200px)) rotate(0deg);
                opacity: 0;
            }
            100% {
                transform: translateX(calc(100vw - 200px)) rotate(0deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <amp-auto-ads type="adsense"
        data-ad-client="ca-pub-7214107660665483">
    </amp-auto-ads>
    <audio id="backgroundMusic" loop >
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-simple-meditation-music-751.mp3" type="audio/mpeg">
        Tarayıcınız ses elementini desteklemiyor.
    </audio>
    <div class="stars" id="stars"></div>

    <!-- Logo with Home Button Functionality -->
    <div class="logo" id="logoHome" style="cursor: pointer;">
        <img src="attached_assets/Picsart_25-03-03_13-42-06-628.png" alt="M Logo" width="120" height="auto">
    </div>

    <div class="container">
        <h1>Mistik Falcı</h1>

        <!-- Name Input Section -->
        <div id="nameSection" class="visible">
            <div class="form-group">
                <label for="firstName">Adınızı Girin</label>
                <input type="text" id="firstName" placeholder="Adınız" required>
            </div>
            <div class="form-group">
                <label for="lastName">Soyadınızı Girin</label>
                <input type="text" id="lastName" placeholder="Soyadınız" required>
            </div>
            <button id="submitName">Devam Et</button>
        </div>

        <!-- Birthdate Input Section -->
        <div id="birthdateSection" class="hidden">
            <div class="form-group">
                <label for="birthdate">Doğum Tarihinizi Girin</label>
                <input type="date" id="birthdate" required>
            </div>
            <button id="submitBirthdate">Kaderinizi Keşfedin</button>
        </div>

        <!-- Horoscope Display Section -->
        <div id="horoscopeSection" class="hidden">
            <h2>Göksel Kimliğiniz</h2>
            <p id="userName">Ad: </p>
            <p id="userBirthdate">Doğum Tarihi: </p>
            <p id="userZodiac">Burcunuz: </p>
            <p id="horoscopeText"></p>
            <button id="fingerprintButton">
                <svg class="fingerprint-icon" viewBox="0 0 24 24" fill="white">
                    <path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"/>
                </svg>
                <div class="loader" id="fingerprintLoader"></div>
            </button>
        </div>

        <!-- Fortune Result Section -->
        <div id="fortuneSection" class="hidden">
            <h2>Falınız Açıldı</h2>
            <div id="fortuneResult" class="fade-in"></div>
            <button id="shareButton">Bu Falı Paylaş</button>
            <button id="newFortuneButton">Yeni Fal</button>
        </div>
    </div>

    <!-- Instagram Button kaldırıldı -->

    <script>
        // Yıldızlı arka plan oluştur
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 150;
            const shootingStarCount = 10;

            // Normal yıldızlar
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');

                // Rastgele pozisyon
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;

                // Rastgele boyut
                const size = Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;

                // Rastgele parıldama gecikmesi
                star.style.animationDelay = `${Math.random() * 5}s`;

                starsContainer.appendChild(star);
            }

            // Kayan yıldızlar
            for (let i = 0; i < shootingStarCount; i++) {
                createShootingStar(starsContainer);
            }

            // Her 2-8 saniyede bir yeni bir kayan yıldız oluştur
            setInterval(() => {
                createShootingStar(starsContainer);
            }, Math.random() * 6000 + 2000);
        }

        // Kayan yıldız oluştur
        function createShootingStar(container) {
            const shootingStar = document.createElement('div');
            shootingStar.classList.add('shooting-star');

            // Rastgele pozisyon
            shootingStar.style.left = `${Math.random() * 30}%`; // Ekranın sol tarafından başla
            shootingStar.style.top = `${Math.random() * 60}%`;

            // Rastgele boyut ve hız
            const width = Math.random() * 80 + 50;
            const angle = Math.random() * 20 - 10; // -10 ile 10 arasında rastgele açı

            shootingStar.style.width = `${width}px`;
            shootingStar.style.height = `2px`;
            shootingStar.style.transform = `rotate(${angle}deg)`;

            // Rastgele animasyon süresi ve gecikmesi
            const duration = Math.random() * 2 + 1; // 1-3 saniye
            const delay = Math.random() * 10; // 0-10 saniye

            shootingStar.style.animationDuration = `${duration}s`;
            shootingStar.style.animationDelay = `${delay}s`;

            container.appendChild(shootingStar);

            // Animasyon bitince elementi kaldır
            setTimeout(() => {
                shootingStar.remove();
            }, (delay + duration) * 1000);
        }

        // Doğum tarihinden burç belirle
        function getZodiacSign(date) {
            const month = date.getMonth() + 1;
            const day = date.getDate();

            if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) return "Koç";
            if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) return "Boğa";
            if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) return "İkizler";
            if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) return "Yengeç";
            if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) return "Aslan";
            if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) return "Başak";
            if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) return "Terazi";
            if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) return "Akrep";
            if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) return "Yay";
            if ((month === 12 && day >= 22) || (month === 1 && day <= 19)) return "Oğlak";
            if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) return "Kova";
            return "Balık";
        }

        // Burca göre burç yorumu al
        function getHoroscopeText(sign) {
            const horoscopes = {
                "Koç": "Cesur ve maceracı ruhunuz sizi heyecan verici fırsatlara yönlendirecek. İçgüdülerinize güvenin ve zorluklarla özgüvenle yüzleşin.",
                "Boğa": "Sabrınız ve kararlılığınız ödüllendirilecek. Ayaklarınızı yere sağlam basın ve geleceğiniz için kalıcı temeller inşa etmeye odaklanın.",
                "İkizler": "Çok yönlü zekânız en büyük varlığınızdır. Yeni fikirler keşfedin ve merakınızı uyandıran kişilerle bağlantı kurun.",
                "Yengeç": "Sezgisel doğanız size iyi rehberlik eder. İç sesinizi dinleyin ve sizin için gerçekten önemli olan ilişkileri besleyin.",
                "Aslan": "Doğal liderliğiniz ve yaratıcılığınız şimdi parlıyor. Kendinizi cesurca ifade edin ve çevrenizdeki insanlara ilham verin.",
                "Başak": "Detaylara olan dikkatiniz size iyi hizmet eder. Hayatınızda denge sağlarken pratik iyileştirmelere odaklanın.",
                "Terazi": "Diplomatik becerileriniz ön plana çıkıyor. Kendi ihtiyaç ve arzularınıza sadık kalırken ilişkilerde uyum arayın.",
                "Akrep": "Yoğunluğunuz ve kararlılığınız zorlukları fırsatlara dönüştürmenize yardımcı olur. Değişimi cesaretle kucaklayın.",
                "Yay": "İyimser bakış açınız macera kapılarını açar. Ufkunuzu genişletin ve yeni deneyimler yoluyla bilgelik arayın.",
                "Oğlak": "Disiplinli yaklaşımınız sürekli ilerlemeye yol açar. Sevince zaman ayırırken hedeflerinize odaklanmaya devam edin.",
                "Kova": "Yenilikçi düşünceniz taze çözümler getirir. Gelecek için vizyonunuzu paylaşan aynı fikirde kişilerle bağlantı kurun.",
                "Balık": "Şefkatli doğanız ve yaratıcılığınız yükseliyor. Sezgilerinize güvenin ve benzersiz bakış açınızı ifade edin."
            };

            return horoscopes[sign];
        }

        // Fal dizisi al
        function getFortunes() {
            return [
                "Yakında hayatına güzel, akıllı ve sevgi dolu biri girecek.",
                "Yaratıcılığın seni ünlü ve şanslı yapacak.",
                "Önümüzdeki ay önemli bir fırsat karşına çıkacak.",
                "Yakında ömür boyu sürecek bir dostluk kuracaksın.",
                "Sıkı çalışmanın meyvelerini almak üzeresin. Unutma, hayaller ruhunun yazdığı kitaptan alınan illüstrasyonlardır.",
                "Heyecan verici zamanlar çok yakında seni bekliyor.",
                "Birçok işi aynı anda yönetme yeteneğin seni çok ileriye taşıyacak.",
                "En beklemediğin anda bir hayalin gerçek olacak.",
                "Liderlik vasıfların önümüzdeki haftalarda test edilecek ve kanıtlanacak.",
                "Sevdiğin kişi sandığından daha yakın.",
                "Seyahat planların beklenmedik mutluluklar getirecek.",
                "Bilgeliğin, birinin zor bir durumdan çıkmasına yardımcı olacak.",
                "Unuttuğun bir arkadaşın yakında hayatında yeniden belirecek.",
                "Küçük bir yatırım büyük kazançlar sağlayacak.",
                "Bir yabancıya gösterdiğin nezaket sana on kat olarak geri dönecek.",
                "Hoş bir sürpriz köşe başında seni bekliyor.",
                "Yeni bir bakış açısı, eski bir sorunu çözmene yardımcı olacak.",
                "Sezgilerine güven. Evren sana rehberlik ediyor.",
                "Şu anda bulunduğun yol büyük bir başarıya çıkıyor.",
                "Tesadüfi bir karşılaşma değerli bir bağlantıya yol açacak.",
                "Eski bir aşk yakında kapını çalabilir. Bu sefer bambaşka bir hikaye yazabilirsiniz.",
                "Kalbin uzun süre sonra ilk kez yeniden heyecanla çarpacak. Bu duyguya hazır ol.",
                "Aşkta yaşadığın hayal kırıklıkları sona eriyor. Yakında gerçek sevgiyle tanışacaksın.",
                "Gizli bir hayranın var ve yakında kendini sana açmak için cesaret bulacak.",
                "Yakında bir ayrılık yaşayabilirsin, ancak bu senin için yeni bir başlangıç olacak.",
                "Eski bir sevgilinden haber alacaksın. Bu, geçmişi kapatmak için bir fırsat olabilir.",
                "Kalp kırgınlığın bir armağanla tamir edilecek. Kendini açık tut.",
                "Aşk hayatında büyük bir dönüşüm yaşamak üzeresin. Gönlün ferah olsun.",
                "İki kişi arasında kalmak seni zorlasa da, kalbinin sesini dinlediğinde doğru seçimi yapacaksın.",
                "Birlikte olduğun kişiyle bağların güçlenecek ve ilişkiniz yeni bir seviyeye taşınacak."
            ];
        }

        // Kullanıcı bilgisine dayalı belirleyici fal al (15 dakika aynı kalır)
        function getFortuneForUser(firstName, lastName, birthdate) {
            // Kullanıcı için benzersiz bir anahtar oluştur
            const userKey = `${firstName.toLowerCase()}_${lastName.toLowerCase()}_${birthdate.toISOString().split('T')[0]}`;

            // Bu kullanıcı için kayıtlı bir fal olup olmadığını kontrol et
            let storedFortune = localStorage.getItem(`fortune_${userKey}`);
            let storedTimestamp = localStorage.getItem(`fortune_timestamp_${userKey}`);

            // Kayıtlı bir fal varsa, hala geçerli olup olmadığını kontrol et (15 dakikadan az)
            if (storedFortune && storedTimestamp) {
                const now = new Date().getTime();
                const timestamp = parseInt(storedTimestamp);
                const fifteenMinutesInMs = 15 * 60 * 1000;

                if (now - timestamp < fifteenMinutesInMs) {
                    // Fal hala geçerli
                    return storedFortune;
                }
            }

            // Buraya ulaşırsak, yeni bir fala ihtiyacımız var
            const fortunes = getFortunes();

            // Bir fal seçmek için belirleyici bir yaklaşım kullan
            // Bu rastgele görünür ancak aynı girdi için her zaman aynı falı döndürür
            // Kullanıcının bilgilerine dayalı basit bir hash fonksiyonu kullanacağız
            let hash = 0;
            const str = userKey + new Date().toISOString().substring(0, 13); // Her saat değişmesi için mevcut saati ekle
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // 32 bit tam sayıya dönüştür
            }

            // Pozitif bir indeks olduğundan emin ol
            hash = Math.abs(hash);
            const fortuneIndex = hash % fortunes.length;
            const selectedFortune = fortunes[fortuneIndex];

            // Yeni falı ve zaman damgasını kaydet
            localStorage.setItem(`fortune_${userKey}`, selectedFortune);
            localStorage.setItem(`fortune_timestamp_${userKey}`, new Date().getTime().toString());

            return selectedFortune;
        }

        // Doküman hazır fonksiyonu
        document.addEventListener('DOMContentLoaded', function() {
            createStars();

            // Arka plan müziği için
            const music = document.getElementById('backgroundMusic');
            music.volume = 0.2; // Kısık ses seviyesi (0.0 - 1.0 arası)

            // Başlangıçta müzik kapalı olarak ayarlandı
            let isMuted = true;

            // Sayfa ilk yüklendiğinde sesi başlatma denemesi
            try {
                // Kullanıcı etkileşimi sonrası müzik başlatma (tarayıcı politikaları gereği)
                document.addEventListener('click', function() {
                    if (music.paused) {
                        music.play().then(() => {
                            isMuted = false;
                            audioControlDiv.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>';
                        }).catch(e => console.log("Müzik çalma hatası:", e));
                    }
                }, { once: true });
            } catch (e) {
                console.log("Otomatik müzik başlatma hatası:", e);
            }

            // Logo ana sayfa butonu işlevselliği
            document.getElementById('logoHome').addEventListener('click', function() {
                // Bölümlerin görünürlüğünü sıfırla
                document.getElementById('nameSection').classList.add('visible');
                document.getElementById('nameSection').classList.remove('hidden');

                document.getElementById('birthdateSection').classList.add('hidden');
                document.getElementById('birthdateSection').classList.remove('visible');

                document.getElementById('horoscopeSection').classList.add('hidden');
                document.getElementById('horoscopeSection').classList.remove('visible');

                document.getElementById('fortuneSection').classList.add('hidden');
                document.getElementById('fortuneSection').classList.remove('visible');

                // Form alanlarını sıfırla
                document.getElementById('firstName').value = '';
                document.getElementById('lastName').value = '';
                document.getElementById('birthdate').value = '';
            });

            // Form gezinme değişkenleri
            const nameSection = document.getElementById('nameSection');
            const birthdateSection = document.getElementById('birthdateSection');
            const horoscopeSection = document.getElementById('horoscopeSection');
            const fortuneSection = document.getElementById('fortuneSection');

            // Kullanıcı bilgileri depolama
            let userInfo = {
                firstName: "",
                lastName: "",
                birthdate: null,
                zodiac: ""
            };

            // İsim gönderimi
            document.getElementById('submitName').addEventListener('click', function() {
                const firstName = document.getElementById('firstName').value.trim();
                const lastName = document.getElementById('lastName').value.trim();

                if (firstName && lastName) {
                    userInfo.firstName = firstName;
                    userInfo.lastName = lastName;

                    // İsim bölümünü gizle, doğum tarihi bölümünü göster
                    nameSection.classList.remove('visible');
                    nameSection.classList.add('hidden');
                    birthdateSection.classList.remove('hidden');
                    birthdateSection.classList.add('visible');
                } else {
                    alert("Lütfen adınızı ve soyadınızı girin.");
                }
            });

            // Doğum tarihi gönderimi
            document.getElementById('submitBirthdate').addEventListener('click', function() {
                const birthdateValue = document.getElementById('birthdate').value;

                if (birthdateValue) {
                    const birthdate = new Date(birthdateValue);
                    userInfo.birthdate = birthdate;
                    userInfo.zodiac = getZodiacSign(birthdate);

                    // Burç bölümünü kullanıcı bilgileriyle güncelle
                    document.getElementById('userName').textContent = `Ad: ${userInfo.firstName} ${userInfo.lastName}`;
                    document.getElementById('userBirthdate').textContent = `Doğum Tarihi: ${birthdate.toLocaleDateString()}`;
                    document.getElementById('userZodiac').textContent = `Burcunuz: ${userInfo.zodiac}`;
                    document.getElementById('horoscopeText').textContent = getHoroscopeText(userInfo.zodiac);

                    // Doğum tarihi bölümünü gizle, burç bölümünü göster
                    birthdateSection.classList.remove('visible');
                    birthdateSection.classList.add('hidden');
                    horoscopeSection.classList.remove('hidden');
                    horoscopeSection.classList.add('visible');
                } else {
                    alert("Lütfen doğum tarihinizi girin.");
                }
            });

            // Parmak izi tarama
            let fingerprintTimer;
            let isFingerprintActive = false;
            const fingerprintButton = document.getElementById('fingerprintButton');
            const fingerprintLoader = document.getElementById('fingerprintLoader');
            const fingerprintIcon = fingerprintButton.querySelector('.fingerprint-icon');
            let startX, startY;

            function resetFingerprint() {
                if (fingerprintTimer) {
                    clearTimeout(fingerprintTimer);
                    fingerprintTimer = null;
                }
                isFingerprintActive = false;
                fingerprintLoader.style.display = 'none';
            }

            function startFingerprint(e) {
                // Mouse veya dokunma başlangıç koordinatlarını kaydet
                if (e.type === 'touchstart') {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                } else {
                    startX = e.clientX;
                    startY = e.clientY;
                }

                if (e.type === 'touchstart') e.preventDefault();
                isFingerprintActive = true;
                fingerprintLoader.style.display = 'block';

                fingerprintTimer = setTimeout(function() {
                    // Kullanıcı bilgilerine dayalı tutarlı fal oluştur
                    const fortune = getFortuneForUser(userInfo.firstName, userInfo.lastName, userInfo.birthdate);
                    document.getElementById('fortuneResult').textContent = fortune;

                    // Burç bölümünü gizle, fal bölümünü göster
                    horoscopeSection.classList.remove('visible');
                    horoscopeSection.classList.add('hidden');
                    fortuneSection.classList.remove('hidden');
                    fortuneSection.classList.add('visible');

                    resetFingerprint();
                }, 3000);
            }

            function checkMovement(e) {
                if (!isFingerprintActive) return;

                let currentX, currentY;
                if (e.type === 'touchmove') {
                    currentX = e.touches[0].clientX;
                    currentY = e.touches[0].clientY;
                } else {
                    currentX = e.clientX;
                    currentY = e.clientY;
                }

                // Parmağın veya farenin 10 pikselden fazla kaydığını kontrol et
                const diffX = Math.abs(currentX - startX);
                const diffY = Math.abs(currentY - startY);

                if (diffX > 10 || diffY > 10) {
                    resetFingerprint();
                }
            }

            // Mouse olayları
            fingerprintButton.addEventListener('mousedown', startFingerprint);
            fingerprintButton.addEventListener('mouseup', resetFingerprint);
            fingerprintButton.addEventListener('mouseleave', resetFingerprint);
            document.addEventListener('mousemove', checkMovement);

            // Dokunmatik olaylar
            fingerprintButton.addEventListener('touchstart', startFingerprint);
            fingerprintButton.addEventListener('touchend', resetFingerprint);
            fingerprintButton.addEventListener('touchcancel', resetFingerprint);
            document.addEventListener('touchmove', checkMovement, { passive: false });

            // Paylaş butonu
            document.getElementById('shareButton').addEventListener('click', function() {
                const fortune = document.getElementById('fortuneResult').textContent;
                const shareText = `Falım: "${fortune}" - Mistik Falcı'dan senin falına da bak!`;

                if (navigator.share) {
                    navigator.share({
                        title: 'Mistik Falcı',
                        text: shareText
                    }).catch(console.error);
                } else {
                    // Web Paylaşım API'sini desteklemeyen tarayıcılar için yedek
                    try {
                        navigator.clipboard.writeText(shareText);
                        alert('Fal panoya kopyalandı! İstediğiniz yere yapıştırarak paylaşabilirsiniz.');
                    } catch (err) {
                        alert('Falınızı paylaşmak için: ' + shareText);
                    }
                }
            });

            // Yeni fal butonu
            document.getElementById('newFortuneButton').addEventListener('click', function() {
                // Burç bölümüne geri dön
                fortuneSection.classList.remove('visible');
                fortuneSection.classList.add('hidden');
                horoscopeSection.classList.remove('hidden');
                horoscopeSection.classList.add('visible');
            });
        });
    </script>
</body>
</html>